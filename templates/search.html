{% extends "base.html" %}

{% block content %}
    <h1>Do I Have This Song?</h1>
    <form action="{% url 'song:search' %}">
        <div class="form-group row">
            <div class="col-xs-12">
                <fieldset class="form-group">
                    <label for="for">For</label>
                    <div id="for" class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary-outline" id="album_label">
                            <input type="radio" name="for" value="album" id="album_radio" autocomplete="off">
                            Album
                        </label>
                        <label class="btn btn-primary-outline" id="song_label">
                            <input type="radio" name="for" value="song" id="song_radio" autocomplete="off">
                            Song
                        </label>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <fieldset class="form-group">
                    <label for="in">In</label>
                    <div id="in" class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary-outline" id="title_label">
                            <input type="radio" name="in" value="title" id="title_radio" autocomplete="off">
                            Title
                        </label>
                        <label class="btn btn-primary-outline" id="artist_label">
                            <input type="radio" name="in" value="artist" id="artist_radio" autocomplete="off">
                            Artist
                        </label>
                        <label class="btn btn-primary-outline" id="genre_label">
                            <input type="radio" name="in" value="genre" id="genre_radio" autocomplete="off">
                            Genre
                        </label>
                        <label class="btn btn-primary-outline" id="album_artist_label">
                            <input type="radio" name="in" value="album_artist" id="album_artist_radio"
                                   autocomplete="off">
                            Album Artist
                        </label>
                        <label class="btn btn-primary-outline" id="year_label">
                            <input type="radio" name="in" value="year" id="year_radio" autocomplete="off">
                            Year
                        </label>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <fieldset class="form-group">
                    <label for="keyword">Keyword</label>
                    <input type="text" class="form-control" id="keyword" name="keyword" required>
                </fieldset>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <fieldset class="form-group">
                    <label for="match">Match</label>
                    <div id="match" class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary-outline" id="contains_label">
                            <input type="radio" name="match" value="contains" id="contains_radio"
                                   autocomplete="off">
                            Contains
                        </label>
                        <label class="btn btn-primary-outline" id="exact_label">
                            <input type="radio" name="match" value="exact" id="exact_radio" autocomplete="off">
                            Exact
                        </label>
                        <label class="btn btn-primary-outline" id="forward_label">
                            <input type="radio" name="match" value="forward" id="forward_radio"
                                   autocomplete="off">
                            Forward
                        </label>
                        <label class="btn btn-primary-outline" id="backward_label">
                            <input type="radio" name="match" value="backward" id="backward_radio"
                                   autocomplete="off">
                            Backward
                        </label>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </div>
    </form>
    <div class="row">
        <div class="col-xs-12">
            <h3>Do I Have This Song?</h3>
            <table class="table table-striped table-bordered table-hover">
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Album Artist</th>
                    <th>Artist</th>
                    <th>Album</th>
                </tr>
                </thead>
                <tbody>
                {% for result in results %}
                    <tr>
                        <td>{{ result.title }}</td>
                        <td>{{ result.album_artist }}</td>
                        <td>{{ result.artist }}</td>
                        <td>{{ result.album }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <script type="application/javascript">
        window.onload = function () {
            document.getElementById('{{ for }}_radio').checked = true;
            document.getElementById('{{ for }}_label').className += ' active';
            document.getElementById('{{ in }}_radio').checked = true;
            document.getElementById('{{ in }}_label').className += ' active';
            document.getElementById('{{ match }}_radio').checked = true;
            document.getElementById('{{ match }}_label').className += ' active';
            document.getElementById('keyword').value = '{{ keyword }}';
        }
    </script>
{% endblock content %}
